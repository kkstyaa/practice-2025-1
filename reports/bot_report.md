# –û—Ç—á–µ—Ç –ø–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ Telegram-–±–æ—Ç–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤
## –í–≤–µ–¥–µ–Ω–∏–µ
–î–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–æ–∑–¥–∞–Ω–∏—è Telegram-–±–æ—Ç–∞, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–µ–≥–æ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –≥–æ—Ä–æ—Å–∫–æ–ø—ã –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∑–Ω–∞–∫–æ–≤ –∑–æ–¥–∏–∞–∫–∞. –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç–∫—Ä—ã—Ç–æ–µ API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–≥–Ω–æ–∑–æ–≤.
–ò—Å—Ç–æ—á–Ω–∏–∫: <https://www.freecodecamp.org/news/how-to-create-a-telegram-bot-using-python/>
## 1. –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
### 1.1 –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
–ë–æ—Ç –¥–æ–ª–∂–µ–Ω:
- –ü—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞
- –ó–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –¥–µ–Ω—å –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∞
- –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –≥–æ—Ä–æ—Å–∫–æ–ø –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

### 1.2 –í—ã–±–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
–ë—ã–ª–∏ –≤—ã–±—Ä–∞–Ω—ã:
- Python
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ pyTelegramBotAPI, requests, python-dotenv
- –°–µ—Ä–≤–∏—Å [Horoscope API](https://horoscope-app-api.vercel.app/) (–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö)
## 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞
–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –±–æ—Ç–∞, –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å –Ω—É–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ –±–æ—Ç–∞ BotFather, –≤—ã–±—Ä–∞—Ç—å /newbot –∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å –¥–∞–ª—å–Ω–µ–π—à–∏–º —É–∫–∞–∑–∞–Ω–∏—è–º. –í –∫–æ–Ω—Ü–µ –±–∞–∑–æ–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É–¥–µ—Ç –≤—ã–¥–∞–Ω —Ç–æ–∫–µ–Ω(—É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä):
![–ø—Ä–∏–º–µ—Ä1](img/2025-05-29_19-00-11.png)
## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ä–µ–¥—ã –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è
### 3.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫
–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ —è —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∞ —Å–ª–µ–¥—É—é—â–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: 
* pyTelegramBotAPI
* requests
* python-dotenv  

–°–¥–µ–ª–∞–ª–∞ —è —ç—Ç–æ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å –ø–æ–º–æ—â—å—é pip install.
### 3.2 –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
–°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª token.env –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞:
```
BOT_TOKEN=—Ç–æ–∫–µ–Ω_–Ω–∞—à–µ–≥–æ_–±–æ—Ç–∞
```
## 4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –±–æ—Ç–∞
### 4.1 –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ—Ç–∞
```
import os
import telebot
import requests
from dotenv import load_dotenv

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
load_dotenv("token.env")
BOT_TOKEN = os.getenv('BOT_TOKEN')
bot = telebot.TeleBot(BOT_TOKEN)
```
–î–∞–Ω–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–¥–∞ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –±–∞–∑–æ–≤—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É –∏ –∑–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞. 
–ò–º–ø–æ—Ä—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫:
* os - —Ä–∞–±–æ—Ç–∞ —Å –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π (–¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏—è)
* telebot - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram API
* requests - –æ—Ç–ø—Ä–∞–≤–∫–∞ HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤
* dotenv - –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ .env —Ñ–∞–π–ª–∞  

–î–∞–ª–µ–µ –º—ã –∑–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ token.env –≤ —Ç–µ–∫—É—â–µ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ, –∏–∑–≤–ª–µ–∫–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π BOT_TOKEN –∏–∑ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –±–æ—Ç–∞.
### 4.2 –†–∞–±–æ—Ç–∞ —Å API –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤
–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω–µ—à–Ω–∏–π API. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç HTTP-–∑–∞–ø—Ä–æ—Å—ã –∫ API –∏ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON. –í —Ñ—É–Ω–∫—Ü–∏–∏ get_daily_horoscope —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–ª–µ–¥—É—é—â–∞—è –ª–æ–≥–∏–∫–∞:
* –ü–µ—Ä–µ–≤–æ–¥ –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö (–∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞ –∏ –¥–µ–Ω—å) —Å —Ä—É—Å—Å–∫–æ–≥–æ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫.
* –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ URL –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API.
* –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤, –≤–∫–ª—é—á–∞—è –ø—Ä–æ–≤–µ—Ä–∫—É —Å—Ç–∞—Ç—É—Å–∞ –∏ –Ω–∞–ª–∏—á–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
* –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –ø—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏ –∏–ª–∏ –¥–∞–Ω–Ω—ã—Ö.
## 5. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
### 5.1 –°—Ç–∞—Ä—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
–ü—Ä–∏ –≤–≤–æ–¥–µ –∫–æ–º–∞–Ω–¥ /start –∏–ª–∏ /hello, –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º —É–∑–Ω–∞—Ç—å –≥–æ—Ä–æ—Å–∫–æ–ø: 
```
@bot.message_handler(commands=['start', 'hello'])
def send_welcome(message):
    bot.reply_to(message, "–ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç-–≥–æ—Ä–æ—Å–∫–æ–ø ‚ú®. –ù–∞–ø–∏—à–∏ /horoscope —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å —Å–≤–æ–π –≥–æ—Ä–æ—Å–∫–æ–ø üîÆ")
```
### 5.2 –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–æ—Ä–æ—Å–∫–æ–ø–∞
–î–ª—è –∏–Ω–∏—Ü–∏–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ /horoscope, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏:
```
@bot.message_handler(commands=['horoscope'])
def sign_handler(message):
    text = "–ö–∞–∫–æ–π —É —Ç–µ–±—è –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞? ‚ôåÔ∏è\n–í—ã–±–µ—Ä–∏ –æ–¥–∏–Ω: –û–≤–µ–Ω, –¢–µ–ª–µ—Ü, –ë–ª–∏–∑–Ω–µ—Ü—ã, –†–∞–∫, –õ–µ–≤, –î–µ–≤–∞, –í–µ—Å—ã, –°–∫–æ—Ä–ø–∏–æ–Ω, –°—Ç—Ä–µ–ª–µ—Ü, –ö–æ–∑–µ—Ä–æ–≥, –í–æ–¥–æ–ª–µ–π, –†—ã–±—ã."
    sent_msg = bot.send_message(message.chat.id, text)
    bot.register_next_step_handler(sent_msg, day_handler)
```
### 5.3 –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –¥–Ω—è
–ë–æ—Ç —Ä–µ–∞–≥–∏—Ä—É–µ—Ç –Ω–∞ –≤–≤–æ–¥ –∑–Ω–∞–∫–∞ –∑–æ–¥–∏–∞–∫–∞ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≤—ã–±—Ä–∞—Ç—å –¥–µ–Ω—å –¥–ª—è –≥–æ—Ä–æ—Å–∫–æ–ø–∞:
```
def day_handler(message):
    sign = message.text
    text = "–ù–∞ –∫–∞–∫–æ–π –¥–µ–Ω—å? üìÖ\n–í—ã–±–µ—Ä–∏: –°–µ–≥–æ–¥–Ω—è, –ó–∞–≤—Ç—Ä–∞, –í—á–µ—Ä–∞ –∏–ª–∏ –≤–≤–µ–¥–∏ –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ –ì–ì–ì–ì-–ú–ú-–î–î."
    sent_msg = bot.send_message(message.chat.id, text)
    bot.register_next_step_handler(sent_msg, fetch_horoscope, sign.capitalize())
```
–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –∑–Ω–∞–∫–∞ –∑–æ–¥–∏–∞–∫–∞, –±–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–µ–Ω—å –¥–ª—è –≥–æ—Ä–æ—Å–∫–æ–ø–∞ –∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
## 6. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
–ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ infinity_polling, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–≥–æ –ø–æ–¥–¥–µ—Ä–∂–∫—É –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏:
```
if __name__ == "__main__":
    print("‚úÖ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!")
    bot.infinity_polling()
```
## 7. –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É /start.
2. –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ–º –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É /horoscope.
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –∑–Ω–∞–∫ –∑–æ–¥–∏–∞–∫–∞ –∏ –¥–µ–Ω—å.
4. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ API –≥–æ—Ä–æ—Å–∫–æ–ø–æ–≤ –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.  

–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã: 
![–ø—Ä–∏–º–µ—Ä2](img/2025-05-29_20-16-51.png)
## –ò—Ç–æ–≥
–ú—ã —Ä–∞–∑–≤–µ—Ä–Ω—É–ª–∏ —Ç–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç–∞ —Å –ø–æ–º–æ—â—å—é –Ω–µ–±–æ–ª—å—à–æ–≥–æ –∫–æ–¥–∞ –Ω–∞ Python. –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —ç—Ç–æ –≤—Å–µ–≥–æ –ª–∏—à—å –≤–µ—Ä—Å–∏—è –¥–µ–º–æ, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –∫–∞–∫ —Ç–æ–ª—å–∫–æ –º—ã –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Python. –ß—Ç–æ–±—ã –æ–Ω —Ä–∞–±–æ—Ç–∞–ª –ø–æ—Å—Ç–æ—è–Ω–Ω–æ, –º–æ–∂–Ω–æ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –±–æ—Ç –Ω–∞ —Ç–∞–∫–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö, –∫–∞–∫ Heroku, Render –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.
